.tile {
  object-fit: none;
  /* Improve mobile dragging */
  -webkit-touch-callout: none; /* prevent iOS callout */
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0); /* remove tap highlight */
  user-select: none;
  -webkit-user-select: none;
  -ms-user-select: none;
  position: relative; /* anchor for handle */
  /* Allow all gestures by default - JS will take control during drag */
  touch-action: auto;
  /* Smooth transitions for drag feedback */
  transition: transform 0.1s ease, filter 0.1s ease;
}

/* Small corner grip as visual indicator (decorative only) */
.tile::after {
  content: "";
  position: absolute;
  right: 2px;
  bottom: 2px;
  width: 10px; /* Smaller since it's just visual */
  height: 10px;
  background: repeating-linear-gradient(
    45deg,
    rgba(0, 0, 0, 0.3),
    /* More subtle */ rgba(0, 0, 0, 0.3) 2px,
    rgba(255, 255, 255, 0.4) 2px,
    rgba(255, 255, 255, 0.4) 4px
  );
  border-radius: 2px;
  pointer-events: none; /* events go to tile */
  /* Subtle animation to indicate interactivity */
  transition: opacity 0.2s ease;
  opacity: 0.6;
}

/* Make handle slightly more visible on hover/active for non-touch devices */
@media (hover: hover) {
  .tile:hover::after {
    opacity: 0.8;
  }
}

/* Keep handle visible but smaller on touch devices since entire tile is draggable */
@media (hover: none) {
  .tile::after {
    opacity: 0.7;
    width: 8px;
    height: 8px;
  }
}

.dragging {
  transform: scale(1.05) rotate(2deg);
  filter: drop-shadow(0 8px 16px rgba(0, 0, 0, 0.3));
  z-index: 1000;
  transition: none; /* Disable transitions during drag for immediate feedback */
}

.selected {
  outline: 2px solid #00ff00;
  outline-offset: -2px;
  animation: pulseOutline 0.8s ease-in-out infinite;
}

@keyframes pulseOutline {
  0%,
  100% {
    outline-color: #00ff00;
  }
  50% {
    outline-color: magenta;
  }
}

.dragTarget {
  outline: 2px solid yellow;
  outline-offset: -2px;
  animation: pulseDragTarget 0.5s ease-in-out infinite;
}

@keyframes pulseDragTarget {
  0%,
  100% {
    outline-color: yellow;
  }
  50% {
    outline-color: orange;
  }
}
